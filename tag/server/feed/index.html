<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>server | Module Safari</title>
	<atom:link href="https://modulesafari.com/tag/server/feed/" rel="self" type="application/rss+xml" />
	<link>https://modulesafari.com</link>
	<description>development simplified</description>
	<lastBuildDate>Sat, 07 Dec 2019 02:17:38 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.5.3</generator>

<image>
	<url>https://modulesafari.com/wp-content/uploads/2019/11/favivon.ico</url>
	<title>server | Module Safari</title>
	<link>https://modulesafari.com</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Learn how to set ulimit on Linux</title>
		<link>https://modulesafari.com/linux-ulimits/</link>
					<comments>https://modulesafari.com/linux-ulimits/#respond</comments>
		
		<dc:creator><![CDATA[Nathaniel Blakely]]></dc:creator>
		<pubDate>Sat, 30 Nov 2019 19:27:17 +0000</pubDate>
				<category><![CDATA[Tutorials]]></category>
		<category><![CDATA[limit]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[server]]></category>
		<category><![CDATA[ubuntu]]></category>
		<category><![CDATA[ulimit]]></category>
		<category><![CDATA[unix]]></category>
		<guid isPermaLink="false">https://modulesafari.com/?p=565</guid>

					<description><![CDATA[<p>Often times you will need to increase the maximum number of file descriptors in order to achieve proper functionality of your application. Perhaps you have a database or have run into the &#8220;Too many open files&#8221; error. In this tutorial, we will go over increasing this value and other ulimits. But first, what is a [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://modulesafari.com/linux-ulimits/">Learn how to set ulimit on Linux</a> appeared first on <a rel="nofollow" href="http://35.245.164.103">Module Safari</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p>Often times you will need to increase the maximum number of file descriptors in order to achieve proper functionality of your application. Perhaps you have a database or have run into the &#8220;Too many open files&#8221; error. In this tutorial, we will go over increasing this value and other ulimits. But first, what is a Linux ulimit? </p>



<h2>What is a Linux ulimit?</h2>



<p>A ulimit or user limit in Linux is a restriction placed on a user&#8217;s access to certain resources. You can use the command <code>ulimit -a</code> to view them, this will give you a list of the ulimit values you can set, as well as their value. It is important to note that there are two types of limits, soft and hard. </p>



<h3>Hard Limits</h3>



<p>A hard limit is the maximum allowed to the user. It is set by the root user and acts as the hard ceiling for that value. The user will be unable to have a limit higher than this unless it is changed by the root user. There are a few ways to update this value, but the most common way is by updating the /etc/security/limits.conf file. In most situations, it is best to not update this value.</p>



<h3>Soft Limits</h3>



<p>A soft limit is the current maximum for the user. The user is able to change this at any time, either through setrlimit(2) or the ulimit command. Often times, you will only need to set this value, as very few situations call for resources above the hard limit.</p>



<h2>Permanently Updating Limits</h2>



<p>The best method for permanently updating soft limits and hard limits is via the<em> /etc/security/limits.confÂ </em>file. In this file, you can include the new soft limit defaults for a user, or update the hard limits. The format in which you insert your updates into this file is simple, it is just <code>&lt;domain> &lt;type> &lt;item> &lt;value></code>. So, if you wanted to update the default file limit for the user apache, it would look like this.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">apache soft nofile 5000</pre>



<p>Now, all you would have to do is reboot the system, and the user apache&#8217;s file descriptor limit would default to 5000.</p>



<h2>Temporarily Updating Limits</h2>



<p>The easiest way to temporarily update a soft limit is with the ulimit command. If you wanted to set your file descriptor limit to 5000 for the duration of your shell session, you can use this command.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">ulimit -S -n 5000</pre>



<p>The -S flag signals that you are temporarily updating the soft limit value, and the -n flag states you wish to change the value for file-descriptors. You can also update hard limits using this method, just swap out the -S with -H. However, you can only set a lower value.</p>
<p>The post <a rel="nofollow" href="https://modulesafari.com/linux-ulimits/">Learn how to set ulimit on Linux</a> appeared first on <a rel="nofollow" href="http://35.245.164.103">Module Safari</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://modulesafari.com/linux-ulimits/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Served; Build RESTful C++ servers</title>
		<link>https://modulesafari.com/served/</link>
					<comments>https://modulesafari.com/served/#respond</comments>
		
		<dc:creator><![CDATA[Nathaniel Blakely]]></dc:creator>
		<pubDate>Fri, 29 Nov 2019 03:01:44 +0000</pubDate>
				<category><![CDATA[C++]]></category>
		<category><![CDATA[c++]]></category>
		<category><![CDATA[cpp]]></category>
		<category><![CDATA[http]]></category>
		<category><![CDATA[rest]]></category>
		<category><![CDATA[restful]]></category>
		<category><![CDATA[served]]></category>
		<category><![CDATA[server]]></category>
		<guid isPermaLink="false">https://modulesafari.com/?p=440</guid>

					<description><![CDATA[<p>Served is a C++ library for easy creation of highly performant web servers. It presents a clean and elegant modern C++ interface, drastically reducing the amount of boiler-plate code that would normally be needed. Overall, it looks very promising for when you want everything to just work, without compromising on performance. Now, let&#8217;s dive right [&#8230;]</p>
<p>The post <a rel="nofollow" href="https://modulesafari.com/served/">Served; Build RESTful C++ servers</a> appeared first on <a rel="nofollow" href="http://35.245.164.103">Module Safari</a>.</p>
]]></description>
										<content:encoded><![CDATA[
<p class="blog"><a href="https://github.com/meltwater/served" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">Served</a> is a C++ library for easy creation of highly performant web servers. It presents a clean and elegant modern C++ interface, drastically reducing the amount of boiler-plate code that would normally be needed. Overall, it looks very promising for when you want everything to just work, without compromising on performance. Now, let&#8217;s dive right into it. </p>



<h2>Getting To Hello World</h2>



<p>Getting started is fairly standard for a from-source installation, you can also opt to compile it into a deb or rpm package via the build flags. Running the following commands installs served on your system. This installation requires Boost 1.53 or newer, if you do not have Boost installed on your system, you can install it using your favorite package manager or by <a href="https://modulesafari.com/how-to-install-the-boost-c-libraries/">following these instructions</a>.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="shell" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">git clone https://github.com/meltwater/served.git
mkdir served/served.build &amp;&amp; cd served/served.build
cmake ../served &amp;&amp; make
sudo make install</pre>



<p>Now, that you have it installed, it is time to build a simple webserver. This server will just give back &#8220;Hello world!&#8221; when you query against the endpoint <code>GET /hello.</code></p>



<pre class="EnlighterJSRAW" data-enlighter-language="cpp" data-enlighter-theme="" data-enlighter-highlight="4, 6-9, 11-12" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="main.cpp" data-enlighter-group="">#include &lt;served/served.hpp>

int main() {
	served::multiplexer mux;

	mux.handle("/hello")
		.get([](served::response &amp; res, const served::request &amp; req) {
			res &lt;&lt; "Hello world!\n";
		});

	served::net::server server("0.0.0.0", "8080", mux);
	server.run(10);

	return 0;
}</pre>



<p>To compile your program, you will need to link against the pthread, boost_system, and served shared objects, and use at least C++-11. On Linux, this would look roughly like the following.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="shell" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">g++ main.cpp -o demo -std=c++17 -pthread -lboost_system -lserved</pre>



<p>Just run the binary and visit the URL <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="http://localhost:8080/hello" target="_blank">http://localhost:8080/hello</a> in your browser, and you have successfully reached the hello-world. All of the code for this demo is <a href="https://github.com/moduledemos/served-demo">available on github</a>.</p>



<h2>Performance</h2>



<p>Let&#8217;s take a quick look at the performance of C++ Served. At only 60k, the output binary from that demo is surprising small on my system. Of course, this is not the statically linked binary size. For this benchmark, we will be using <a rel="noreferrer noopener" aria-label="Vegeta (opens in a new tab)" href="https://github.com/tsenart/vegeta" target="_blank">Vegeta</a> for load testing. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="false" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Requests      [total, rate, throughput]    99999, 20000.17, 19057.02
Duration      [total, attack, wait]        5.000256833s, 4.999908146s, 348.687Âµs
Latencies     [mean, 50, 90, 95, 99, max]  2.539834ms, 375.457Âµs, 7.240899ms, 8.184653ms, 38.421652ms, 1.691368283s
Bytes In      [total, mean]                1238770, 12.39
Bytes Out     [total, mean]                0, 0.00
Success       [ratio]                      95.29%
Status Codes  [code:count]                 0:4709  200:95290  

</pre>



<p>On my machine (Intel(R) Core(TM) i9-9900K CPU @ 3.60GHz 16 threads), the basic hello world server was able to handle around 19,000 requests per second! Additionally, it was able to maintain relatively low CPU usage during this attack, using only ~30% of the capacity available to it. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="false" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Requests      [total, rate, throughput]    150000, 30000.10, 14094.09
Duration      [total, attack, wait]        7.948649187s, 4.999982507s, 2.94866668s
Latencies     [mean, 50, 90, 95, 99, max]  9.756488ms, 5.137985ms, 7.529834ms, 7.989994ms, 51.273487ms, 6.782636245s
Bytes In      [total, mean]                1456377, 9.71
Bytes Out     [total, mean]                0, 0.00
Success       [ratio]                      74.69%
Status Codes  [code:count]                 0:37971  200:112029 </pre>



<p>As the request rate increases above 20k, the performance started to degrade. Here, it seems like 20k requests per second is the sweet spot. Despite this, the performance of the library is very satisfactory under the given load. The majority of requests took under 1ms when it was under the 20k stress test. This should be more than enough to meet the needs of all but the most extreme demands. </p>
<p>The post <a rel="nofollow" href="https://modulesafari.com/served/">Served; Build RESTful C++ servers</a> appeared first on <a rel="nofollow" href="http://35.245.164.103">Module Safari</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://modulesafari.com/served/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
