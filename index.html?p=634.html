<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="pingback" href="http://35.245.164.103/xmlrpc.php" />

	<script type="text/javascript">
		document.documentElement.className = 'js';
	</script>
	
	<meta data-name=wpacu-delimiter data-content="ASSET CLEANUP CRITICAL CSS" /><script>var et_site_url='http://35.245.164.103';var et_post_id='634';function et_core_page_resource_fallback(a,b){"undefined"===typeof b&&(b=a.sheet.cssRules&&0===a.sheet.cssRules.length);b&&(a.onerror=null,a.onload=null,a.href?a.href=et_site_url+"/?et_core_page_resource="+a.id+et_post_id:a.src&&(a.src=et_site_url+"/?et_core_page_resource="+a.id+et_post_id))}
</script>
	<!-- This site is optimized with the Yoast SEO Premium plugin v14.1 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>Testify; Test Your Go Code - Module Safari</title>
	<meta name="description" content="Testify is a testing library to make testing your Go code easy. It reduces the amount of code you need to write for tests" />
	<meta name="robots" content="index, follow" />
	<meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
	<meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
	<link rel="canonical" href="index.html%3Fp=634.html" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Testify; Test Your Go Code - Module Safari" />
	<meta property="og:description" content="Testify is a testing library to make testing your Go code easy. It reduces the amount of code you need to write for tests" />
	<meta property="og:url" content="http://35.245.164.103/testify-test-your-go-code/" />
	<meta property="og:site_name" content="Module Safari" />
	<meta property="article:published_time" content="2019-12-01T19:36:30+00:00" />
	<meta property="article:modified_time" content="2019-12-03T02:04:22+00:00" />
	<meta property="og:image" content="http://35.245.164.103/wp-content/uploads/2019/12/bug-finding.png" />
	<meta property="og:image:width" content="960" />
	<meta property="og:image:height" content="672" />
	<meta name="twitter:card" content="summary_large_image" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"http://35.245.164.103/#organization","name":"Module Safari","url":"http://35.245.164.103/","sameAs":[],"logo":{"@type":"ImageObject","@id":"http://35.245.164.103/#logo","inLanguage":"en-US","url":"http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-not-transparent.png","width":2026,"height":530,"caption":"Module Safari"},"image":{"@id":"http://35.245.164.103/#logo"}},{"@type":"WebSite","@id":"http://35.245.164.103/#website","url":"http://35.245.164.103/","name":"Module Safari","description":"development simplified","publisher":{"@id":"http://35.245.164.103/#organization"},"potentialAction":[{"@type":"SearchAction","target":"http://35.245.164.103/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"http://35.245.164.103/testify-test-your-go-code/#primaryimage","inLanguage":"en-US","url":"http://35.245.164.103/wp-content/uploads/2019/12/bug-finding.png","width":960,"height":672},{"@type":"WebPage","@id":"http://35.245.164.103/testify-test-your-go-code/#webpage","url":"http://35.245.164.103/testify-test-your-go-code/","name":"Testify; Test Your Go Code - Module Safari","isPartOf":{"@id":"http://35.245.164.103/#website"},"primaryImageOfPage":{"@id":"http://35.245.164.103/testify-test-your-go-code/#primaryimage"},"datePublished":"2019-12-01T19:36:30+00:00","dateModified":"2019-12-03T02:04:22+00:00","description":"Testify is a testing library to make testing your Go code easy. It reduces the amount of code you need to write for tests","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["http://35.245.164.103/testify-test-your-go-code/"]}]},{"@type":"Article","@id":"http://35.245.164.103/testify-test-your-go-code/#article","isPartOf":{"@id":"http://35.245.164.103/testify-test-your-go-code/#webpage"},"author":{"@id":"http://35.245.164.103/#/schema/person/a31876f85a9f031cf62afd4e79f746aa"},"headline":"Testify; Test Your Go Code","datePublished":"2019-12-01T19:36:30+00:00","dateModified":"2019-12-03T02:04:22+00:00","commentCount":0,"mainEntityOfPage":{"@id":"http://35.245.164.103/testify-test-your-go-code/#webpage"},"publisher":{"@id":"http://35.245.164.103/#organization"},"image":{"@id":"http://35.245.164.103/testify-test-your-go-code/#primaryimage"},"keywords":"golang,test,testing","articleSection":"Golang","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["http://35.245.164.103/testify-test-your-go-code/#respond"]}]},{"@type":["Person"],"@id":"http://35.245.164.103/#/schema/person/a31876f85a9f031cf62afd4e79f746aa","name":"Nathaniel Blakely","image":{"@type":"ImageObject","@id":"http://35.245.164.103/#personlogo","inLanguage":"en-US","url":"http://1.gravatar.com/avatar/1d85a4c5bf257b6a8972ab9bbaee0b51?s=96&d=mm&r=g","caption":"Nathaniel Blakely"}}]}</script>
	<!-- / Yoast SEO Premium plugin. -->


<link rel="amphtml" href="testify-test-your-go-code/amp/index.html" /><meta name="generator" content="AMP for WP 1.0.49"/><link rel='dns-prefetch' href='http://www.google.com/' />
<link rel='dns-prefetch' href='http://www.googletagmanager.com/' />
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel="alternate" type="application/rss+xml" title="Module Safari &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Module Safari &raquo; Comments Feed" href="comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Module Safari &raquo; Testify; Test Your Go Code Comments Feed" href="testify-test-your-go-code/feed/index.html" />
<meta content="Divi v.4.4.6" name="generator"/><link   rel='stylesheet' id='wp-block-library-css'  href='wp-includes/css/dist/block-library/style.min.css%3Fver=5.5.3.css' type='text/css' media='all' />
<link   rel='stylesheet' id='divi-fonts-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link   rel='stylesheet' id='divi-style-css'  href='wp-content/themes/Divi/style.css%3Fver=4.4.6.css' type='text/css' media='all' />
<link   rel='stylesheet' id='enlighterjs-css'  href='wp-content/plugins/enlighter/cache/enlighterjs.min.css%3Fver=s5oOF1R1qT2xiGR.css' type='text/css' media='all' />
<style id='rocket-lazyload-inline-css' type='text/css'>
.rll-youtube-player{position:relative;padding-bottom:56.23%;height:0;overflow:hidden;max-width:100%;}.rll-youtube-player iframe{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;background:0 0}.rll-youtube-player img{bottom:0;display:block;left:0;margin:auto;max-width:100%;width:100%;position:absolute;right:0;top:0;border:none;height:auto;cursor:pointer;-webkit-transition:.4s all;-moz-transition:.4s all;transition:.4s all}.rll-youtube-player img:hover{-webkit-filter:brightness(75%)}.rll-youtube-player .play{height:72px;width:72px;left:50%;top:50%;margin-left:-36px;margin-top:-36px;position:absolute;background:url(wp-content/plugins/rocket-lazy-load/assets/img/youtube.png) no-repeat;cursor:pointer}
</style>
<script   type='text/javascript' src='wp-includes/js/jquery/jquery.js%3Fver=1.12.4-wp' id='jquery-core-js'></script>
<script   type='text/javascript' src='wp-content/themes/Divi/core/admin/js/es6-promise.auto.min.js%3Fver=5.5.3' id='es6-promise-js'></script>
<script   type='text/javascript' src='https://www.googletagmanager.com/gtag/js?id=UA-153132129-1' id='google_gtagjs-js' async></script>
<script   type='text/javascript' id='google_gtagjs-js-after'>
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-153132129-1', {"anonymize_ip":true} );
</script>
<link rel="https://api.w.org/" href="wp-json/index.html" /><link rel="alternate" type="application/json" href="wp-json/wp/v2/posts/634" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.5.3" />
<link rel='shortlink' href='index.html%3Fp=634.html' />
<meta name="generator" content="Site Kit by Google 1.8.0" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-3251686280284760",
enable_page_level_ads: true,
tag_partner: "site_kit"
});
</script>
		<link rel="icon" href="wp-content/uploads/2019/11/favivon.ico" sizes="32x32" />
<link rel="icon" href="wp-content/uploads/2019/11/favivon.ico" sizes="192x192" />
<link rel="apple-touch-icon" href="wp-content/uploads/2019/11/favivon.ico" />
<meta name="msapplication-TileImage" content="http://35.245.164.103/wp-content/uploads/2019/11/favivon.ico" />
<link rel="stylesheet" id="et-divi-customizer-global-cached-inline-styles" href="wp-content/et-cache/global/et-divi-customizer-global-16173306105051.min.css" onerror="et_core_page_resource_fallback(this, true)" onload="et_core_page_resource_fallback(this)" /><link rel="stylesheet" id="et-core-unified-tb-43-tb-324-tb-72-634-cached-inline-styles" href="http://35.245.164.103/wp-content/et-cache/634/et-core-unified-tb-43-tb-324-tb-72-634-16173306446324.min.css" onerror="et_core_page_resource_fallback(this, true)" onload="et_core_page_resource_fallback(this)" /><noscript><style id="rocket-lazyload-nojs-css">.rll-youtube-player, [data-lazy-src]{display:none !important;}</style></noscript></head>
<body class="post-template-default single single-post postid-634 single-format-standard et-tb-has-template et-tb-has-header et-tb-has-body et-tb-has-footer et_pb_button_helper_class et_cover_background et_pb_gutter linux et_pb_gutters3 et_divi_theme et-db et_minified_js et_minified_css">
	<div id="page-container">
<div id="et-boc" class="et-boc">
			
		<header class="et-l et-l--header">
			<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_header et_pb_with_background et_section_regular" >
				
				
				
				
					<div class="et_pb_row et_pb_row_0_tb_header et_pb_equal_columns et_pb_gutters3 et_pb_row--with-menu">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_0_tb_header  et_pb_css_mix_blend_mode_passthrough et-last-child et_pb_column--with-menu">
				
				
				<div class="et_pb_module et_pb_menu et_pb_menu_0_tb_header et_pb_bg_layout_dark  et_pb_text_align_right et_dropdown_animation_fade et_pb_menu--with-logo et_pb_menu--style-left_aligned">
					
					
					<div class="et_pb_menu_inner_container clearfix">
						<div class="et_pb_menu__logo-wrap">
			  <div class="et_pb_menu__logo">
				<a href="author/admin/index.html" ><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" alt="" data-lazy-srcset="http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-white.png 2026w, http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-white-1280x335.png 1280w, http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-white-980x256.png 980w, http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-white-480x126.png 480w" data-lazy-sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 2026px, 100vw" data-lazy-src="http://35.245.164.103/wp-content/uploads/2019/11/PNG-Logo-02-white.png" /><noscript><img src="wp-content/uploads/2019/11/PNG-Logo-02-white.png" alt="" srcset="wp-content/uploads/2019/11/PNG-Logo-02-white.png 2026w, wp-content/uploads/2019/11/PNG-Logo-02-white-1280x335.png 1280w, wp-content/uploads/2019/11/PNG-Logo-02-white-980x256.png 980w, wp-content/uploads/2019/11/PNG-Logo-02-white-480x126.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 2026px, 100vw" /></noscript></a>
			  </div>
			</div>
						<div class="et_pb_menu__wrap">
							<div class="et_pb_menu__menu">
								<nav class="et-menu-nav"><ul id="menu-top-menu" class="et-menu nav"><li class="et_pb_menu_page_id-35 menu-item menu-item-type-post_type menu-item-object-page menu-item-299"><a href="index.html%3Fp=35.html">About</a></li>
<li class="et_pb_menu_page_id-232 menu-item menu-item-type-post_type menu-item-object-page menu-item-298"><a href="index.html%3Fp=232.html">Contact</a></li>
</ul></nav>
							</div>
							
							<button type="button" class="et_pb_menu__icon et_pb_menu__search-button"></button>
							<div class="et_mobile_nav_menu">
				<a href="index.html%3Fp=634.html#" class="mobile_nav closed">
					<span class="mobile_menu_bar"></span>
				</a>
			</div>
						</div>
						<div class="et_pb_menu__search-container et_pb_menu__search-container--disabled">
				<div class="et_pb_menu__search">
					<form role="search" method="get" class="et_pb_menu__search-form" action="author/admin/index.html">
						<input type="search" class="et_pb_menu__search-input" placeholder="Search &hellip;" name="s" title="Search for:" />
					</form>
					<button type="button" class="et_pb_menu__icon et_pb_menu__close-search-button"></button>
				</div>
			</div>
					</div>
				</div>
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row -->
				
				
			</div> <!-- .et_pb_section -->		</div><!-- .et_builder_inner_content -->
	</header><!-- .et-l -->
	<div id="et-main-area">
	
    <div id="main-content">
    <div class="et-l et-l--body">
			<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_body et_section_regular" >
				
				
				
				
					<div class="et_pb_row et_pb_row_0_tb_body">
				<div class="et_pb_column et_pb_column_3_4 et_pb_column_0_tb_body  et_pb_css_mix_blend_mode_passthrough">
				
				
				<div class="et_pb_module et_pb_post_title et_pb_post_title_0_tb_body et_pb_bg_layout_light  et_pb_text_align_left"   >
				
				
				
				<div class="et_pb_title_container">
					<h1 class="entry-title">Testify; Test Your Go Code</h1><p class="et_pb_title_meta_container"><span class="published">Dec 1, 2019</span> | <a href="category/go/index.html" rel="category tag">Golang</a></p>
				</div>
				<div class="et_pb_title_featured_container"><span class="et_pb_image_wrap"><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" data-lazy-srcset="http://35.245.164.103/wp-content/uploads/2019/12/bug-finding.png 960w, http://35.245.164.103/wp-content/uploads/2019/12/bug-finding-480x336.png 480w" data-lazy-sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) 960px, 100vw" data-lazy-src="http://35.245.164.103/wp-content/uploads/2019/12/bug-finding.png" /><noscript><img src="wp-content/uploads/2019/12/bug-finding.png" srcset="wp-content/uploads/2019/12/bug-finding.png 960w, wp-content/uploads/2019/12/bug-finding-480x336.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) 960px, 100vw" /></noscript></span></div>
			</div>
			</div> <!-- .et_pb_column --><div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_body  et_pb_css_mix_blend_mode_passthrough et-last-child et_pb_column_empty">
				
				
				
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row --><div class="et_pb_row et_pb_row_1_tb_body">
				<div class="et_pb_column et_pb_column_3_4 et_pb_column_2_tb_body  et_pb_css_mix_blend_mode_passthrough">
				
				
				<div class="et_pb_module et_pb_post_content et_pb_post_content_0_tb_body">
				
				
				
<p>Testify is a testing library that makes writing tests for your Go code easy. It reduces the amount of code you need for tests, while also providing extra functionality for easy mocking. Especially when combined with mockery, you really have a Golang testing powerhouse. Here is a <a href="https://github.com/stretchr/testify">direct link</a> to the Github repository if you are interested.</p>



<h2>Assert</h2>



<p>Testify&#8217;s assert package contains functions that make checking certain conditions easy. They replace the normal if statement list flow and have reflection built-in for comparisons between structs. For this example, let&#8217;s say we are making a function fib, which calculates the number in the nth place in the Fibonacci Sequence. Here is our naive implementation of this, which has a few issues.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">func fib(n int64) int64 {
	var a int64 = 0
	var b int64 = 1
	for i := int64(0); i &lt; n-1; i++ {
		tmp := b
		b = a + b
		a = tmp
	}
	return b
}</pre>



<p>We want to be sure that this implementation is correct, so we add some tests for it using testify. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">package main

import(
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestFib(t *testing.T) {
	assert.Equal(t, int64(0), fib(0))
	assert.Equal(t, int64(1), fib(1))
	assert.Equal(t, int64(1), fib(2))
	assert.Equal(t, int64(6765), fib(20))
}</pre>



<p>Now, we run our tests with <code>go test</code> and we can immediately see an issue.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="raw" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">--- FAIL: TestFib (0.00s)
    fib_test.go:12: 
        	Error Trace:	fib_test.go:10
        	Error:      	Not equal: 
        	            	expected: 0
        	            	actual  : 1
        	Test:       	TestFib
FAIL</pre>



<p>Thanks to testify, we easily see that on line 10, the output of the function was 1, instead of 0. We go to our code and see that we don&#8217;t handle the case of n == 0, and fix the issue. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">func fib(n int64) int64 {
	var a int64 = 0
	var b int64 = 1
	for i := int64(0); i &lt; n; i++ {
		tmp := b
		b = a + b
		a = tmp
	}
	return a
}</pre>



<p>The tests passed, and we can be more confident that our code is correct. </p>



<h2>Require</h2>



<p>While assert is great for most cases, sometimes you have dependencies in your test function. There, you want to make sure that when a test fails, it reports only what failed. Enter the require package. Require feels like a carbon copy of the assert package, with just one key difference: it calls <code>t.FailNow()</code>.  Let&#8217;s make a function which uses the Fibonacci function from earlier, and outputs all terms up to n in an array. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">func fibAll(n int64) []int64 {
	if n > 0 {
		return nil
	}
	out := make([]int64, n + 1)
	for i := int64(0); i &lt;= n; i++ {
		out[i] = fib(i)
	}
	return out
}</pre>



<p>This function needs some tests, so let&#8217;s write some up real quick. We want to do some spot checking to make sure that the sequence is generated correctly. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">func TestFibAll(t *testing.T) {
	for i := int64(15); i &lt; 40; i++ {
		fibNumbers := fibAll(i)
		assert.NotNil(t, fibNumbers)
		assert.Len(t, fibNumbers, int(i+1))
		assert.Equal(t, 233, fibNumbers[13])
		assert.Equal(t, 55, fibNumbers[10])
	}
}</pre>



<p>We run our tests and get back this messy error.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="raw" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">--- FAIL: TestFibAll (0.00s)
    fib_test.go:19: 
        	Error Trace:	fib_test.go:19
        	Error:      	Expected value not to be nil.
        	Test:       	TestFibAll
    fib_test.go:20: 
        	Error Trace:	fib_test.go:20
        	Error:      	"[]" should have 16 item(s), but has 0
        	Test:       	TestFibAll
panic: runtime error: index out of range [13] with length 0 [recovered]
	panic: runtime error: index out of range [13] with length 0

goroutine 21 [running]:
testing.tRunner.func1(0xc000116200)
	/snap/go/4762/src/testing/testing.go:874 +0x3a3
panic(0x719700, 0xc0000d42a0)
[Full stack trace omitted]
exit status 2
FAIL
</pre>



<p>As you can see,  the tests reported 2 failures instead of just one, and the code panicked. Of course, this is still usable and would be significantly better than nothing. However, if the unit tests were more complex, it can start to become unclear as to what the actual problem is. So, let&#8217;s put &#8220;require&#8221; to use.</p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="4,5" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">func TestFibAll(t *testing.T) {
	for i := int64(15); i &lt; 40; i++ {
		fibNumbers := fibAll(i)
		require.NotNil(t, fibNumbers)
		require.Len(t, fibNumbers, int(i+1))
		assert.Equal(t, 233, fibNumbers[13])
		assert.Equal(t, 55, fibNumbers[10])
	}
}</pre>



<p>When we run our tests, it becomes very clear what the issue is. </p>



<pre class="EnlighterJSRAW" data-enlighter-language="raw" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">--- FAIL: TestFibAll (0.00s)
    fib_test.go:20: 
        	Error Trace:	fib_test.go:20
        	Error:      	Expected value not to be nil.
        	Test:       	TestFibAll
FAIL</pre>



<p>This is a significant improvement. Especially as the complexity of a codebase increases, simplified test failures can save you a lot of time. The last thing anyone wants to do is dig through a ton of logs and code, just to find that the issue is an inverted comparison. </p>



<p>Overall, Testify is a great library for reducing the complexity of your Go test code. Every time I have used it, I have been extremely satisfied, as the functions do exactly what they say. I strongly suggest checking out <a href="index.html%3Fp=658.html">the mock package and its use with mockery</a></p>



<p></p>

			</div> <!-- .et_pb_post_content -->
			</div> <!-- .et_pb_column --><div class="et_pb_column et_pb_column_1_4 et_pb_column_3_tb_body  et_pb_css_mix_blend_mode_passthrough et-last-child">
				
				
				<div class="et_pb_module et_pb_post_slider et_pb_post_slider_0_tb_body et_pb_slider et_pb_post_slider_image_top et_pb_slider_fullwidth_off et_pb_slider_no_arrows et_pb_slider_no_pagination et_pb_slider_with_overlay">
				
				
				<div class="et_pb_slides">
								<div class="et_pb_slide et_pb_media_alignment_center et_pb_bg_layout_dark et_pb_post_slide-658" >
													<div class="et_pb_slide_overlay_container"></div>
								<div class="et_pb_container clearfix">
					<div class="et_pb_slider_container_inner">
													<div class="et_pb_slide_image">
								<img width="640" height="417" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20640%20417'%3E%3C/svg%3E" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="mock" loading="lazy" data-lazy-srcset="http://35.245.164.103/wp-content/uploads/2019/12/mocking-bird.jpg 640w, http://35.245.164.103/wp-content/uploads/2019/12/mocking-bird-480x313.jpg 480w" data-lazy-sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) 640px, 100vw" data-lazy-src="http://35.245.164.103/wp-content/uploads/2019/12/mocking-bird.jpg" /><noscript><img width="640" height="417" src="wp-content/uploads/2019/12/mocking-bird.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="mock" loading="lazy" srcset="wp-content/uploads/2019/12/mocking-bird.jpg 640w, wp-content/uploads/2019/12/mocking-bird-480x313.jpg 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) 640px, 100vw" /></noscript>							</div>
												<div class="et_pb_slide_description">
															<h2 class="et_pb_slide_title"><a href="index.html%3Fp=658.html">Mockery; Mock Everything In Go.</a></h2>
								<div class="et_pb_slide_content ">
									<div>Mockery is an awesome tool that offers the ability to generate mocks from Go interfaces. Additionally, it's output uses the testify framework, so you can easily plug in your mocks and perform granular tests on your code. When combined with the power of a Makefile, it...</div>								</div>
														<div class="et_pb_button_wrapper"><a class="et_pb_button et_pb_more_button" href="index.html%3Fp=658.html">Read More</a></div>						</div> <!-- .et_pb_slide_description -->
											</div>
				</div> <!-- .et_pb_container -->
			</div> <!-- .et_pb_slide -->
		
				</div> <!-- .et_pb_slides -->
				
			</div> <!-- .et_pb_slider -->
			<div class="et_pb_module et_pb_post_slider et_pb_post_slider_1_tb_body et_pb_slider et_pb_post_slider_image_top et_pb_slider_fullwidth_off et_pb_slider_no_arrows et_pb_slider_no_pagination et_pb_slider_with_overlay">
				
				
				<div class="et_pb_slides">
								<div class="et_pb_slide et_pb_media_alignment_center et_pb_bg_layout_dark et_pb_post_slide-565" >
													<div class="et_pb_slide_overlay_container"></div>
								<div class="et_pb_container clearfix">
					<div class="et_pb_slider_container_inner">
													<div class="et_pb_slide_image">
								<img width="535" height="391" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20535%20391'%3E%3C/svg%3E" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="linux ulimits" loading="lazy" data-lazy-srcset="http://35.245.164.103/wp-content/uploads/2019/11/linux-ulimits-e1575142285688.png 535w, http://35.245.164.103/wp-content/uploads/2019/11/linux-ulimits-e1575142285688-300x219.png 300w, http://35.245.164.103/wp-content/uploads/2019/11/linux-ulimits-e1575142285688-400x292.png 400w" data-lazy-sizes="(max-width: 535px) 100vw, 535px" data-lazy-src="http://35.245.164.103/wp-content/uploads/2019/11/linux-ulimits-e1575142285688.png" /><noscript><img width="535" height="391" src="wp-content/uploads/2019/11/linux-ulimits-e1575142285688.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="linux ulimits" loading="lazy" srcset="wp-content/uploads/2019/11/linux-ulimits-e1575142285688.png 535w, wp-content/uploads/2019/11/linux-ulimits-e1575142285688-300x219.png 300w, wp-content/uploads/2019/11/linux-ulimits-e1575142285688-400x292.png 400w" sizes="(max-width: 535px) 100vw, 535px" /></noscript>							</div>
												<div class="et_pb_slide_description">
															<h2 class="et_pb_slide_title"><a href="index.html%3Fp=565.html">Learn how to set ulimit on Linux</a></h2>
								<div class="et_pb_slide_content ">
									<div>Often times you will need to increase the maximum number of file descriptors in order to achieve proper functionality of your application. Perhaps you have a database or have run into the "Too many open files" error. In this tutorial, we will go over increasing this...</div>								</div>
														<div class="et_pb_button_wrapper"><a class="et_pb_button et_pb_more_button" href="index.html%3Fp=565.html">Read More</a></div>						</div> <!-- .et_pb_slide_description -->
											</div>
				</div> <!-- .et_pb_container -->
			</div> <!-- .et_pb_slide -->
		
				</div> <!-- .et_pb_slides -->
				
			</div> <!-- .et_pb_slider -->
			
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row -->
				
				
			</div> <!-- .et_pb_section -->		</div><!-- .et_builder_inner_content -->
	</div><!-- .et-l -->
	    </div>
    
	<footer class="et-l et-l--footer">
			<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular" >
				
				
				
				
					<div class="et_pb_row et_pb_row_0_tb_footer">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_0_tb_footer  et_pb_css_mix_blend_mode_passthrough et-last-child">
				
				
				<div class="et_pb_module et_pb_text et_pb_text_0_tb_footer  et_pb_text_align_center et_pb_bg_layout_dark">
				
				
				<div class="et_pb_text_inner">Want to keep up with the latest in development?</div>
			</div> <!-- .et_pb_text -->
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row --><div class="et_pb_row et_pb_row_1_tb_footer">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_1_tb_footer  et_pb_css_mix_blend_mode_passthrough et-last-child">
				
				
				<div class="et_pb_module et_pb_code et_pb_code_0_tb_footer">
				
				
				<div class="et_pb_code_inner"><!-- Begin Mailchimp Signup Form -->
<link href="http://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{ clear:left; font-size:14px; width:100%;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://modulesafari.us4.list-manage.com/subscribe/post?u=eb6cf7e02a194f75dafff1563&#038;id=01d4c3ad9e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_eb6cf7e02a194f75dafff1563_01d4c3ad9e" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup--></div>
			</div> <!-- .et_pb_code -->
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row --><div class="et_pb_row et_pb_row_2_tb_footer">
				<div class="et_pb_column et_pb_column_4_4 et_pb_column_2_tb_footer  et_pb_css_mix_blend_mode_passthrough et-last-child">
				
				
				<div class="et_pb_module et_pb_text et_pb_text_1_tb_footer  et_pb_text_align_center et_pb_bg_layout_light">
				
				
				<div class="et_pb_text_inner">While using this site, you agree to have read and accepted our <a style="color:#a8a8a8; text-decoration: underline;" class="footer" href="index.html%3Fp=516.html">terms of use</a> and <a style="color:#a8a8a8; text-decoration: underline;" class="footer" href="index.html%3Fp=3.html">privacy policy</a><br />
Copyright © 2019 Innodev LLC. All rights reserved. </div>
			</div> <!-- .et_pb_text -->
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row -->
				
				
			</div> <!-- .et_pb_section -->		</div><!-- .et_builder_inner_content -->
	</footer><!-- .et-l -->
	    </div> <!-- #et-main-area -->

			
		</div><!-- #et-boc -->
		</div> <!-- #page-container -->

			<script   type='text/javascript' src='wp-includes/js/comment-reply.min.js%3Fver=5.5.3' id='comment-reply-js'></script>
<script type='text/javascript' id='divi-custom-script-js-extra'>
/* <![CDATA[ */
var DIVI = {"item_count":"%d Item","items_count":"%d Items"};
var et_shortcodes_strings = {"previous":"Previous","next":"Next"};
var et_pb_custom = {"ajaxurl":"http:\/\/35.245.164.103\/wp-admin\/admin-ajax.php","images_uri":"http:\/\/35.245.164.103\/wp-content\/themes\/Divi\/images","builder_images_uri":"http:\/\/35.245.164.103\/wp-content\/themes\/Divi\/includes\/builder\/images","et_frontend_nonce":"e2e8b3958f","subscription_failed":"Please, check the fields below to make sure you entered the correct information.","et_ab_log_nonce":"bfab38116b","fill_message":"Please, fill in the following fields:","contact_error_message":"Please, fix the following errors:","invalid":"Invalid email","captcha":"Captcha","prev":"Prev","previous":"Previous","next":"Next","wrong_captcha":"You entered the wrong number in captcha.","wrong_checkbox":"Checkbox","ignore_waypoints":"no","is_divi_theme_used":"1","widget_search_selector":".widget_search","ab_tests":[],"is_ab_testing_active":"","page_id":"634","unique_test_id":"","ab_bounce_rate":"5","is_cache_plugin_active":"no","is_shortcode_tracking":"","tinymce_uri":""}; var et_frontend_scripts = {"builderCssContainerPrefix":"#et-boc","builderCssLayoutPrefix":"#et-boc .et-l"};
var et_pb_box_shadow_elements = [];
var et_pb_motion_elements = {"desktop":[],"tablet":[],"phone":[]};
/* ]]> */
</script>
<script   type='text/javascript' defer='defer' src='wp-content/themes/Divi/js/custom.unified.js%3Fver=4.4.6' id='divi-custom-script-js'></script>
<script   type='text/javascript' defer='defer' src='wp-content/themes/Divi/core/admin/js/common.js%3Fver=4.4.6' id='et-core-common-js'></script>
<script   type='text/javascript' src='wp-content/plugins/enlighter/resources/enlighterjs/enlighterjs.min.js%3Fver=4.2' id='enlighterjs-js'></script>
<script   type='text/javascript' id='enlighterjs-js-after'>
!function(n,o){"undefined"!=typeof EnlighterJS?(n.EnlighterJSINIT=function(){EnlighterJS.init("pre.EnlighterJSRAW", "code.EnlighterJSRAW", {"indent":2,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"break","linenumbers":true,"theme":"atomic","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""})})():(o&&(o.error||o.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}(window,console);
</script>
<script>window.lazyLoadOptions = {
                elements_selector: "img[data-lazy-src],.rocket-lazyload,iframe[data-lazy-src]",
                data_src: "lazy-src",
                data_srcset: "lazy-srcset",
                data_sizes: "lazy-sizes",
                class_loading: "lazyloading",
                class_loaded: "lazyloaded",
                threshold: 300,
                callback_loaded: function(element) {
                    if ( element.tagName === "IFRAME" && element.dataset.rocketLazyload == "fitvidscompatible" ) {
                        if (element.classList.contains("lazyloaded") ) {
                            if (typeof window.jQuery != "undefined") {
                                if (jQuery.fn.fitVids) {
                                    jQuery(element).parent().fitVids();
                                }
                            }
                        }
                    }
                }};
        window.addEventListener('LazyLoad::Initialized', function (e) {
            var lazyLoadInstance = e.detail.instance;

            if (window.MutationObserver) {
                var observer = new MutationObserver(function(mutations) {
                    var image_count = 0;
                    var iframe_count = 0;
                    var rocketlazy_count = 0;

                    mutations.forEach(function(mutation) {
                        for (i = 0; i < mutation.addedNodes.length; i++) {
                            if (typeof mutation.addedNodes[i].getElementsByTagName !== 'function') {
                                return;
                            }

                           if (typeof mutation.addedNodes[i].getElementsByClassName !== 'function') {
                                return;
                            }

                            images = mutation.addedNodes[i].getElementsByTagName('img');
                            is_image = mutation.addedNodes[i].tagName == "IMG";
                            iframes = mutation.addedNodes[i].getElementsByTagName('iframe');
                            is_iframe = mutation.addedNodes[i].tagName == "IFRAME";
                            rocket_lazy = mutation.addedNodes[i].getElementsByClassName('rocket-lazyload');

                            image_count += images.length;
			                iframe_count += iframes.length;
			                rocketlazy_count += rocket_lazy.length;

                            if(is_image){
                                image_count += 1;
                            }

                            if(is_iframe){
                                iframe_count += 1;
                            }
                        }
                    } );

                    if(image_count > 0 || iframe_count > 0 || rocketlazy_count > 0){
                        lazyLoadInstance.update();
                    }
                } );

                var b      = document.getElementsByTagName("body")[0];
                var config = { childList: true, subtree: true };

                observer.observe(b, config);
            }
        }, false);</script><script data-no-minify="1" async src="wp-content/plugins/rocket-lazy-load/assets/js/12.0/lazyload.min.js"></script><script>function lazyLoadThumb(e){var t='<img loading="lazy" data-lazy-src="https://i.ytimg.com/vi/ID/hqdefault.jpg" alt="" width="480" height="360"><noscript><img src="https://i.ytimg.com/vi/ID/hqdefault.jpg" alt="" width="480" height="360"></noscript>',a='<div class="play"></div>';return t.replace("ID",e)+a}function lazyLoadYoutubeIframe(){var e=document.createElement("iframe"),t="ID?autoplay=1";t+=0===this.dataset.query.length?'':'&'+this.dataset.query;e.setAttribute("src",t.replace("ID",this.dataset.src)),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),e.setAttribute("allow", "accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),this.parentNode.replaceChild(e,this)}document.addEventListener("DOMContentLoaded",function(){var e,t,a=document.getElementsByClassName("rll-youtube-player");for(t=0;t<a.length;t++)e=document.createElement("div"),e.setAttribute("data-id",a[t].dataset.id),e.setAttribute("data-query", a[t].dataset.query),e.setAttribute("data-src", a[t].dataset.src),e.innerHTML=lazyLoadThumb(a[t].dataset.id),e.onclick=lazyLoadYoutubeIframe,a[t].appendChild(e)});</script>		
	</body>
</html>
